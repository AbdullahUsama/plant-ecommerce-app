{"ast":null,"code":"import _objectSpread from\"C:/Users/Abdullah Usama/Desktop/we_project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import Navbar from\"./Navbar\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminPanel=()=>{const[product,setProduct]=useState({name:\"\",description:\"\",price:\"\",category:\"\",stock:\"\",img:\"\"});const[products,setProducts]=useState([]);const[error,setError]=useState(null);const[showProducts,setShowProducts]=useState(false);const[showAddProductForm,setShowAddProductForm]=useState(false);const[successMessage,setSuccessMessage]=useState(false);const[showUpdateForm,setShowUpdateForm]=useState(false);const[productId,setProductId]=useState(\"\");const[file,setFile]=useState(null);// For Add Product Form\nconst[updateFile,setUpdateFile]=useState(null);// For Update Product Form\nuseEffect(()=>{const handleClickOutside=event=>{const form=document.getElementById(\"updateForm\");if(form&&!form.contains(event.target)){setShowUpdateForm(false);// Close the form\n}};document.addEventListener(\"mousedown\",handleClickOutside);// Attach event listener\nreturn()=>{document.removeEventListener(\"mousedown\",handleClickOutside);// Cleanup event listener\n};},[setShowUpdateForm]);useEffect(()=>{const fetchProducts=async()=>{try{const response=await fetch(\"http://localhost:5000/api/products\");const data=await response.json();if(response.ok){setProducts(data);}else{setError(data.message||\"Error fetching products\");}}catch(err){setError(\"An error occurred while fetching products\");}};fetchProducts();},[]);const handleChange=e=>{const{name,value}=e.target;setProduct(_objectSpread(_objectSpread({},product),{},{[name]:value}));};const handleFileChange=e=>{setFile(e.target.files[0]);};const handleUpdateFileChange=e=>{setUpdateFile(e.target.files[0]);};const handleSubmit=async e=>{e.preventDefault();try{let imageUrl=product.img;// Default to existing image URL\nif(file){const formData=new FormData();formData.append(\"file\",file);const uploadResponse=await fetch(\"http://localhost:5000/api/upload\",{method:\"POST\",body:formData});if(!uploadResponse.ok){throw new Error(\"Image upload failed\");}const{url}=await uploadResponse.json();imageUrl=url;}const productData=_objectSpread(_objectSpread({},product),{},{img:imageUrl});// console.log(productData);\nconst response=await fetch(\"http://localhost:5000/api/products\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(productData)});const data=await response.json();if(response.ok){// Show success popup\nsetSuccessMessage(true);// Hide the popup after 3 seconds\nsetTimeout(()=>{setSuccessMessage(false);},3000);// Reset form fields\nsetProduct({name:\"\",description:\"\",price:\"\",category:\"\",stock:\"\",img:\"\"});setFile(null);// setShowAddProductForm(false); // Hide the form after submission\n}else{throw new Error(data.message||\"Failed to add product\");}}catch(error){alert(\"An error occurred while adding the product: \"+error.message);}};// const handleDeleteProduct = async (pid) => {\n//   console.log(\"inside del funct\");\n//   const response = await fetch(`http://localhost:5000/api/products/${pid}`, {\n//     method: \"DELETE\",\n//     headers: {\n//       \"Content-Type\": \"application/json\",\n//     },\n//   });\n//   console.log(\"Del Message: \", response);\n//   // fetchProducts();\n// };\nconst handleDeleteProduct=async pid=>{try{console.log(\"inside del funct\");const response=await fetch(\"http://localhost:5000/api/products/\".concat(pid),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}});console.log(\"Del Message: \",response);if(response.ok){// Update the products state by removing the deleted product\nsetProducts(products.filter(product=>product._id!==pid));}else{const data=await response.json();throw new Error(data.message||\"Failed to delete product\");}}catch(error){console.error(\"Error deleting product:\",error);alert(\"An error occurred while deleting the product: \"+error.message);}};const handleUpdateClick=async productId=>{console.log(\"Update button clicked for product ID: \".concat(productId));const productToUpdate=products.find(p=>p._id===productId);if(productToUpdate){setProduct({name:productToUpdate.name,description:productToUpdate.description,price:productToUpdate.price,category:productToUpdate.category,stock:productToUpdate.stock,img:productToUpdate.img});setProductId(productId);setShowUpdateForm(true);}};const handleUpdateProduct=async data=>{try{let imageUrl=data.img;// Default to existing image URL\nif(updateFile){const formData=new FormData();formData.append(\"file\",updateFile);const uploadResponse=await fetch(\"http://localhost:5000/api/upload\",{method:\"POST\",body:formData});if(!uploadResponse.ok){throw new Error(\"Image upload failed\");}const{url}=await uploadResponse.json();imageUrl=url;}const updatedProductData={name:data.name,description:data.description,price:data.price,category:data.category,stock:data.stock,img:imageUrl};const response=await fetch(\"http://localhost:5000/update-product/\".concat(productId),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(updatedProductData)});const responseData=await response.json();if(response.ok){// Update the product in the local state\nsetProducts(prevProducts=>prevProducts.map(prod=>prod._id===productId?_objectSpread(_objectSpread({},prod),updatedProductData):prod));// Show success popup or any other feedback\nalert(\"Product updated successfully!\");// Reset states\nsetShowUpdateForm(false);setProductId(\"\");setUpdateFile(null);}else{throw new Error(responseData.message||\"Failed to update product\");}}catch(error){alert(\"An error occurred while updating the producttt: \"+error.message);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-green-700 text-center mb-8\",children:\"Admin Panel\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-10 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAddProductForm(!showAddProductForm),className:\"px-4 py-2 bg-green-800 text-white font-medium rounded-md shadow hover:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-400 transition\",children:\"Add New Product\"})}),showAddProductForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md mx-auto p-6 bg-white rounded-lg shadow-md border border-gray-200 mt-10 relative\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-800 mb-4 text-center\",children:\"Add Product\"}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-green-500 text-white py-2 px-4 rounded-md shadow-md z-10\",children:\"Added Successfully!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Product Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:product.name,onChange:handleChange,required:true,placeholder:\"Enter product name\",className:\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:product.description,onChange:handleChange,required:true,placeholder:\"Enter product description\",rows:\"3\",className:\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",value:product.price,onChange:handleChange,required:true,placeholder:\"Price\",className:\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Stock\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"stock\",value:product.stock,onChange:handleChange,required:true,placeholder:\"Stock\",className:\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",value:product.category,onChange:handleChange,required:true,className:\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm bg-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Select a category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Sapling\",children:\"Sapling\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Plant\",children:\"Plant\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Trees\",children:\"Trees\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pots\",children:\"Pots\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Decorations\",children:\"Decorations\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Product Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleFileChange// required\n,className:\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full py-2 bg-indigo-600 text-white font-medium rounded-md shadow hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition\",children:\"Add Product\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-10 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowProducts(!showProducts),className:\"px-4 py-2 bg-green-800 text-white font-medium rounded-md shadow hover:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-400 transition\",children:showProducts?\"Close All Products\":\"See All Products\"})}),showProducts&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-6 px-6\",children:[products.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4 shadow-md\",children:[/*#__PURE__*/_jsx(\"img\",{src:product.img,alt:product.name,className:\"w-full h-48 object-cover rounded-md mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-bold text-lg mb-2\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700\",children:[\"Price: Rs.\",product.price]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-700\",children:[\"Quantity: \",product.stock]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUpdateClick(product._id),className:\"mt-4 px-3 py-1 bg-green-500 text-white font-medium rounded-md shadow hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-400 transition\",children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteProduct(product._id),className:\"ml-4 px-3 py-1 bg-red-500 text-white font-medium rounded-md shadow hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-400 transition\",children:\"Delete\"})]},product._id)),showUpdateForm&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm z-50\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"updateForm\",onSubmit:e=>{e.preventDefault();// Prevent default form submission\nconst formData=new FormData(e.target);// Collect all form data\nconst data=Object.fromEntries(formData.entries());// Convert to an object\nhandleUpdateProduct(data);// Pass data to the handler\n},className:\"bg-white p-6 rounded-md shadow-lg space-y-4 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-lg font-bold text-gray-900\",children:\"Update The Product\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Product Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",defaultValue:product.name,required:true,placeholder:\"Enter product name\",className:\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",defaultValue:product.description,required:true,placeholder:\"Enter product description\",rows:\"3\",className:\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",defaultValue:product.price,required:true,placeholder:\"Price\",className:\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Stock\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"stock\",defaultValue:product.stock,required:true,placeholder:\"Stock\",className:\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",defaultValue:product.category,required:true,className:\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm bg-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Select a category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Sapling\",children:\"Sapling\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Plant\",children:\"Plant\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Trees\",children:\"Trees\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pots\",children:\"Pots\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Decorations\",children:\"Decorations\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Product Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleUpdateFileChange// Removed 'required' to allow optional image update\n,className:\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm\"}),product.img&&/*#__PURE__*/_jsx(\"img\",{src:product.img,alt:\"Current Product\",className:\"mt-2 w-full h-32 object-cover rounded-md\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full py-2 bg-indigo-600 text-white font-medium rounded-md shadow hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition\",children:\"Update Product\"})]})})]})]});};export default AdminPanel;","map":{"version":3,"names":["React","useEffect","useState","Navbar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminPanel","product","setProduct","name","description","price","category","stock","img","products","setProducts","error","setError","showProducts","setShowProducts","showAddProductForm","setShowAddProductForm","successMessage","setSuccessMessage","showUpdateForm","setShowUpdateForm","productId","setProductId","file","setFile","updateFile","setUpdateFile","handleClickOutside","event","form","document","getElementById","contains","target","addEventListener","removeEventListener","fetchProducts","response","fetch","data","json","ok","message","err","handleChange","e","value","_objectSpread","handleFileChange","files","handleUpdateFileChange","handleSubmit","preventDefault","imageUrl","formData","FormData","append","uploadResponse","method","body","Error","url","productData","headers","JSON","stringify","setTimeout","alert","handleDeleteProduct","pid","console","log","concat","filter","_id","handleUpdateClick","productToUpdate","find","p","handleUpdateProduct","updatedProductData","responseData","prevProducts","map","prod","children","className","onClick","onSubmit","type","onChange","required","placeholder","rows","disabled","accept","src","alt","id","Object","fromEntries","entries","defaultValue"],"sources":["C:/Users/Abdullah Usama/Desktop/we_project/frontend/src/components/AdminPanel.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Navbar from \"./Navbar\";\r\n\r\nconst AdminPanel = () => {\r\n  const [product, setProduct] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    category: \"\",\r\n    stock: \"\",\r\n    img: \"\",\r\n  });\r\n\r\n  const [products, setProducts] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [showProducts, setShowProducts] = useState(false);\r\n  const [showAddProductForm, setShowAddProductForm] = useState(false);\r\n  const [successMessage, setSuccessMessage] = useState(false);\r\n  const [showUpdateForm, setShowUpdateForm] = useState(false);\r\n  const [productId, setProductId] = useState(\"\");\r\n  const [file, setFile] = useState(null); // For Add Product Form\r\n  const [updateFile, setUpdateFile] = useState(null); // For Update Product Form\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      const form = document.getElementById(\"updateForm\");\r\n      if (form && !form.contains(event.target)) {\r\n        setShowUpdateForm(false); // Close the form\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside); // Attach event listener\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside); // Cleanup event listener\r\n    };\r\n  }, [setShowUpdateForm]);\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const response = await fetch(\"http://localhost:5000/api/products\");\r\n        const data = await response.json();\r\n        if (response.ok) {\r\n          setProducts(data);\r\n        } else {\r\n          setError(data.message || \"Error fetching products\");\r\n        }\r\n      } catch (err) {\r\n        setError(\"An error occurred while fetching products\");\r\n      }\r\n    };\r\n\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setProduct({ ...product, [name]: value });\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleUpdateFileChange = (e) => {\r\n    setUpdateFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      let imageUrl = product.img; // Default to existing image URL\r\n\r\n      if (file) {\r\n        const formData = new FormData();\r\n        formData.append(\"file\", file);\r\n        const uploadResponse = await fetch(\"http://localhost:5000/api/upload\", {\r\n          method: \"POST\",\r\n          body: formData,\r\n        });\r\n\r\n        if (!uploadResponse.ok) {\r\n          throw new Error(\"Image upload failed\");\r\n        }\r\n\r\n        const { url } = await uploadResponse.json();\r\n        imageUrl = url;\r\n      }\r\n\r\n      const productData = { ...product, img: imageUrl };\r\n      // console.log(productData);\r\n      const response = await fetch(\"http://localhost:5000/api/products\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(productData),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        // Show success popup\r\n        setSuccessMessage(true);\r\n\r\n        // Hide the popup after 3 seconds\r\n        setTimeout(() => {\r\n          setSuccessMessage(false);\r\n        }, 3000);\r\n\r\n        // Reset form fields\r\n        setProduct({\r\n          name: \"\",\r\n          description: \"\",\r\n          price: \"\",\r\n          category: \"\",\r\n          stock: \"\",\r\n          img: \"\",\r\n        });\r\n        setFile(null);\r\n        // setShowAddProductForm(false); // Hide the form after submission\r\n      } else {\r\n        throw new Error(data.message || \"Failed to add product\");\r\n      }\r\n    } catch (error) {\r\n      alert(\"An error occurred while adding the product: \" + error.message);\r\n    }\r\n  };\r\n  // const handleDeleteProduct = async (pid) => {\r\n  //   console.log(\"inside del funct\");\r\n  //   const response = await fetch(`http://localhost:5000/api/products/${pid}`, {\r\n  //     method: \"DELETE\",\r\n  //     headers: {\r\n  //       \"Content-Type\": \"application/json\",\r\n  //     },\r\n  //   });\r\n  //   console.log(\"Del Message: \", response);\r\n  //   // fetchProducts();\r\n  // };\r\n  const handleDeleteProduct = async (pid) => {\r\n    try {\r\n      console.log(\"inside del funct\");\r\n      const response = await fetch(\r\n        `http://localhost:5000/api/products/${pid}`,\r\n        {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n        }\r\n      );\r\n      console.log(\"Del Message: \", response);\r\n\r\n      if (response.ok) {\r\n        // Update the products state by removing the deleted product\r\n        setProducts(products.filter((product) => product._id !== pid));\r\n      } else {\r\n        const data = await response.json();\r\n        throw new Error(data.message || \"Failed to delete product\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error deleting product:\", error);\r\n      alert(\"An error occurred while deleting the product: \" + error.message);\r\n    }\r\n  };\r\n\r\n  const handleUpdateClick = async (productId) => {\r\n    console.log(`Update button clicked for product ID: ${productId}`);\r\n    const productToUpdate = products.find((p) => p._id === productId);\r\n    if (productToUpdate) {\r\n      setProduct({\r\n        name: productToUpdate.name,\r\n        description: productToUpdate.description,\r\n        price: productToUpdate.price,\r\n        category: productToUpdate.category,\r\n        stock: productToUpdate.stock,\r\n        img: productToUpdate.img,\r\n      });\r\n      setProductId(productId);\r\n      setShowUpdateForm(true);\r\n    }\r\n  };\r\n\r\n  const handleUpdateProduct = async (data) => {\r\n    try {\r\n      let imageUrl = data.img; // Default to existing image URL\r\n\r\n      if (updateFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"file\", updateFile);\r\n        const uploadResponse = await fetch(\"http://localhost:5000/api/upload\", {\r\n          method: \"POST\",\r\n          body: formData,\r\n        });\r\n\r\n        if (!uploadResponse.ok) {\r\n          throw new Error(\"Image upload failed\");\r\n        }\r\n\r\n        const { url } = await uploadResponse.json();\r\n        imageUrl = url;\r\n      }\r\n\r\n      const updatedProductData = {\r\n        name: data.name,\r\n        description: data.description,\r\n        price: data.price,\r\n        category: data.category,\r\n        stock: data.stock,\r\n        img: imageUrl,\r\n      };\r\n\r\n      const response = await fetch(\r\n        `http://localhost:5000/update-product/${productId}`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(updatedProductData),\r\n        }\r\n      );\r\n\r\n      const responseData = await response.json();\r\n\r\n      if (response.ok) {\r\n        // Update the product in the local state\r\n        setProducts((prevProducts) =>\r\n          prevProducts.map((prod) =>\r\n            prod._id === productId ? { ...prod, ...updatedProductData } : prod\r\n          )\r\n        );\r\n\r\n        // Show success popup or any other feedback\r\n        alert(\"Product updated successfully!\");\r\n\r\n        // Reset states\r\n        setShowUpdateForm(false);\r\n        setProductId(\"\");\r\n        setUpdateFile(null);\r\n      } else {\r\n        throw new Error(responseData.message || \"Failed to update product\");\r\n      }\r\n    } catch (error) {\r\n      alert(\"An error occurred while updating the producttt: \" + error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <h2 className=\"text-3xl font-bold text-green-700 text-center mb-8\">\r\n        Admin Panel\r\n      </h2>\r\n      <div className=\"mt-10 text-center\">\r\n        <button\r\n          onClick={() => setShowAddProductForm(!showAddProductForm)}\r\n          className=\"px-4 py-2 bg-green-800 text-white font-medium rounded-md shadow hover:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-400 transition\"\r\n        >\r\n          Add New Product\r\n        </button>\r\n      </div>\r\n\r\n      {showAddProductForm && (\r\n        <div className=\"max-w-md mx-auto p-6 bg-white rounded-lg shadow-md border border-gray-200 mt-10 relative\">\r\n          <h2 className=\"text-xl font-bold text-gray-800 mb-4 text-center\">\r\n            Add Product\r\n          </h2>\r\n\r\n          {successMessage && (\r\n            <div className=\"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-green-500 text-white py-2 px-4 rounded-md shadow-md z-10\">\r\n              Added Successfully!\r\n            </div>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">\r\n                Product Name\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={product.name}\r\n                onChange={handleChange}\r\n                required\r\n                placeholder=\"Enter product name\"\r\n                className=\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">\r\n                Description\r\n              </label>\r\n              <textarea\r\n                name=\"description\"\r\n                value={product.description}\r\n                onChange={handleChange}\r\n                required\r\n                placeholder=\"Enter product description\"\r\n                rows=\"3\"\r\n                className=\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700\">\r\n                  Price\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"price\"\r\n                  value={product.price}\r\n                  onChange={handleChange}\r\n                  required\r\n                  placeholder=\"Price\"\r\n                  className=\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700\">\r\n                  Stock\r\n                </label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"stock\"\r\n                  value={product.stock}\r\n                  onChange={handleChange}\r\n                  required\r\n                  placeholder=\"Stock\"\r\n                  className=\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">\r\n                Category\r\n              </label>\r\n              <select\r\n                name=\"category\"\r\n                value={product.category}\r\n                onChange={handleChange}\r\n                required\r\n                className=\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm bg-white\"\r\n              >\r\n                <option value=\"\" disabled>\r\n                  Select a category\r\n                </option>\r\n                <option value=\"Sapling\">Sapling</option>\r\n                <option value=\"Plant\">Plant</option>\r\n                <option value=\"Trees\">Trees</option>\r\n                <option value=\"Pots\">Pots</option>\r\n                <option value=\"Decorations\">Decorations</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700\">\r\n                Product Image\r\n              </label>\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={handleFileChange}\r\n                // required\r\n                className=\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm\"\r\n              />\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              className=\"w-full py-2 bg-indigo-600 text-white font-medium rounded-md shadow hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition\"\r\n            >\r\n              Add Product\r\n            </button>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"mt-10 text-center\">\r\n        <button\r\n          onClick={() => setShowProducts(!showProducts)}\r\n          className=\"px-4 py-2 bg-green-800 text-white font-medium rounded-md shadow hover:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-400 transition\"\r\n        >\r\n          {/* See All Products */}\r\n          {showProducts ? \"Close All Products\" : \"See All Products\"}\r\n        </button>\r\n      </div>\r\n\r\n      {showProducts && (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-6 px-6\">\r\n          {products.map((product) => (\r\n            <div\r\n              key={product._id}\r\n              className=\"border border-gray-200 rounded-lg p-4 shadow-md\"\r\n            >\r\n              <img\r\n                src={product.img}\r\n                alt={product.name}\r\n                className=\"w-full h-48 object-cover rounded-md mb-4\"\r\n              />\r\n              <h3 className=\"font-bold text-lg mb-2\">{product.name}</h3>\r\n              <p className=\"text-gray-700\">Price: Rs.{product.price}</p>\r\n              <p className=\"text-gray-700\">Quantity: {product.stock}</p>\r\n              <button\r\n                onClick={() => handleUpdateClick(product._id)}\r\n                className=\"mt-4 px-3 py-1 bg-green-500 text-white font-medium rounded-md shadow hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-400 transition\"\r\n              >\r\n                Update\r\n              </button>\r\n              <button\r\n                onClick={() => handleDeleteProduct(product._id)}\r\n                className=\"ml-4 px-3 py-1 bg-red-500 text-white font-medium rounded-md shadow hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-400 transition\"\r\n              >\r\n                Delete\r\n              </button>\r\n              {/* {showUpdateForm && <form action=\"\">this is the form</form>} */}\r\n            </div>\r\n          ))}\r\n\r\n          {showUpdateForm && (\r\n            <div className=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm z-50\">\r\n              <form\r\n                id=\"updateForm\"\r\n                onSubmit={(e) => {\r\n                  e.preventDefault(); // Prevent default form submission\r\n                  const formData = new FormData(e.target); // Collect all form data\r\n                  const data = Object.fromEntries(formData.entries()); // Convert to an object\r\n                  handleUpdateProduct(data); // Pass data to the handler\r\n                }}\r\n                className=\"bg-white p-6 rounded-md shadow-lg space-y-4 w-full max-w-md\"\r\n              >\r\n                <h1 className=\"text-lg font-bold text-gray-900\">\r\n                  Update The Product\r\n                </h1>\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">\r\n                    Product Name\r\n                  </label>\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    defaultValue={product.name}\r\n                    required\r\n                    placeholder=\"Enter product name\"\r\n                    className=\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">\r\n                    Description\r\n                  </label>\r\n                  <textarea\r\n                    name=\"description\"\r\n                    defaultValue={product.description}\r\n                    required\r\n                    placeholder=\"Enter product description\"\r\n                    rows=\"3\"\r\n                    className=\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">\r\n                      Price\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"price\"\r\n                      defaultValue={product.price}\r\n                      required\r\n                      placeholder=\"Price\"\r\n                      className=\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">\r\n                      Stock\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"stock\"\r\n                      defaultValue={product.stock}\r\n                      required\r\n                      placeholder=\"Stock\"\r\n                      className=\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">\r\n                    Category\r\n                  </label>\r\n                  <select\r\n                    name=\"category\"\r\n                    defaultValue={product.category}\r\n                    required\r\n                    className=\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400 text-sm bg-white\"\r\n                  >\r\n                    <option value=\"\" disabled>\r\n                      Select a category\r\n                    </option>\r\n                    <option value=\"Sapling\">Sapling</option>\r\n                    <option value=\"Plant\">Plant</option>\r\n                    <option value=\"Trees\">Trees</option>\r\n                    <option value=\"Pots\">Pots</option>\r\n                    <option value=\"Decorations\">Decorations</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700\">\r\n                    Product Image\r\n                  </label>\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    onChange={handleUpdateFileChange}\r\n                    // Removed 'required' to allow optional image update\r\n                    className=\"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm\"\r\n                  />\r\n                  {product.img && (\r\n                    <img\r\n                      src={product.img}\r\n                      alt=\"Current Product\"\r\n                      className=\"mt-2 w-full h-32 object-cover rounded-md\"\r\n                    />\r\n                  )}\r\n                </div>\r\n\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"w-full py-2 bg-indigo-600 text-white font-medium rounded-md shadow hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition\"\r\n                >\r\n                  Update Product\r\n                </button>\r\n              </form>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminPanel;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}